# SCore-SG: Efficient density-based models for multiple clustering solutions over large datasets

This repository contains the code corresponding to the techniques proposed and discussed in the manuscript **"SCore-SG: Efficient density-based models for multiple clustering solutions over large datasets"**, submitted to 12th Brazilian Conference on Intelligent Systems, as well as the instructions to reproduce the results reported in the paper.

This implementation uses Cython to improve the performance of many operations that would be otherwise very inefficient if implemented with only Python. This short guide includes the 4 steps needed to reproduce the results reported in the paper: 
1. [Installation](#installation)
2. [Data](#data)
3. [Running Experiments](#experiments)
4. [Generating Figures](#figures)

## <a id="installation"></a> 1. Installation

The first step for installing the project consists of downloading the code from the repository publicly available at Github. Note that if this repository has been already downloaded as ZIP file, the clonning of the Github repository is not necessary. 
```
git clone git@github.com:omittedforreview/SCore-SG.git
```

Next, change to the project folder and create a virtual environment that will contain the packages and dependencies needed to run the CORE-SG project. 

```
python -m venv env
```

After the virtual environment has been created, it must be activated so the installation of the dependencies is done in the virtual environment.
```
source env/bin/activate
```

Next, run the following command to install the required dependencies listed in the `requirements.txt` file. 
```
python3 -m pip install -r requirements.txt
```

After the required dependencies are installed, build the Cython modules with the following command.
```
python3 setup.py build_ext --inplace
```

At this point, the installation should be ready for use. In case of errors, check out the troubleshooting section at the end of this README page.


## <a id="data"></a> 2. Data


```
├── scoresg/
├── dataset/
    ├── dataset_500k_2d.csv
    ├── dataset_500k_4d.csv
    ├── dataset_500k_6d.csv
    .
    .
    .
    
```

The `dataset` folder contains the CSV files corresponding to the synthetic data generated by the `numpy` library.

## <a id="experiments"></a> 3. Running Experiments

The bash script files `experiments_coresg.sh` and `experiments_coresgdb.sh`, located at the root directory of `SCore-SG` 

To run the tests corresponding to the coresg version for points, run the following command:
```
./experiments_coresg.sh
```

To run the tests corresponding to the summarized version using coresg databubbles, run the following command:
```
./experiments_coresgdb.sh
```

## <a id="figures"></a> 4. Generating Figures

From the `.results` generated in section 3, the `matplotlib` library was used to generate the graphs presented in the paper.

The histograms and clusters presented in the paper were based on HDBSCAN plots.

## - <a id="troubleshooting"></a> Troubleshooting

### `fatal error: numpy/arrayobject.h: No such file or directory`

Create a symbolic link from the Numpy installation in the Python version being used (e.g. 3.8) to `/usr/include/numpy`

```
sudo ln -s  /usr/local/lib/python3.8/dist-packages/numpy/core/include/numpy /usr/include/numpy
```

## References
<a id="1">[1]</a> 
Breunig, M.M., Kriegel, H.P., Kr ̈oger, P., Sander, J.: Data bubbles: Quality pre-
serving performance boosting for hierarchical clustering. In: Proceedings of the
2001 ACM SIGMOD international conference on Management of data. pp. 79–90
(2001)

<a id="2">[2]</a> 
Ricardo J. G. B. Campello, Davoud Moulavi, Arthur Zimek, Joerg Sander. 
Hierarchical Density Estimates for Data Clustering, Visualization, and Outlier Detection.
ACM Trans. Knowl. Discov. Data 10(1): 5:1-5:51 (2015)

<a id="3">[3]</a> 
Neto, A.C.A., Naldi, M.C., Campello, R.J.G.B., Sander, J.: Core-sg: Efficient
computation of multiple msts for density-based methods. In: 2022 IEEE 38th
International Conference on Data Engineering (ICDE). pp. 951–964 (2022).
https://doi.org/10.1109/ICDE53745.2022.00076
